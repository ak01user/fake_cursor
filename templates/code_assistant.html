<!DOCTYPE html>
<html>
<head>
    <title>代码助手</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- 工作目录区域 -->
            <div class="col-md-2 files-panel">
                <h4>工作目录</h4>
                <div class="file-list" id="fileList"></div>
                <div class="upload-area">
                    <input type="file" id="fileInput" webkitdirectory directory multiple class="d-none">
                    <button class="btn btn-primary" onclick="document.getElementById('fileInput').click()">
                        选择工作目录
                    </button>
                </div>
            </div>
            
            <!-- 代码预览区域 -->
            <div class="col-md-5 preview-panel">
                <div class="preview-header">
                    <h4>代码预览</h4>
                    <span id="currentFile"></span>
                </div>
                <pre class="preview-content"><code id="codePreview" class="language-python"></code></pre>
            </div>
            
            <!-- 聊天区域 -->
            <div class="col-md-5 chat-panel">
                <div class="selected-files mb-3" id="selectedFiles">
                    <h6>已选择的文件：</h6>
                    <div class="selected-files-list"></div>
                </div>
                <div class="chat-history" id="chatHistory"></div>
                <div class="input-area">
                    <textarea class="form-control" id="promptInput" rows="3" 
                              placeholder="输入您的请求..."></textarea>
                    <button class="btn btn-primary mt-2" onclick="sendMessage()">发送</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-python.min.js"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html> 